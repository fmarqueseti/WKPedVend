-- --------------------------------------------------------
-- DUMP DO BANCO DE DADOS DO SISTEMA DE PEDIDO DE VENDAS
-- WK TECNOLOGIA
-- F√ÅBIO MARQUES - OUTUBRO/2024
-- --------------------------------------------------------

-- --------------------------------------------------------
--
-- Banco de dados: fmarques_pedvend
--
CREATE DATABASE IF NOT EXISTS fmarques_pedvend DEFAULT CHARACTER SET latin1 COLLATE latin1_swedish_ci;
USE fmarques_pedvend;

-- --------------------------------------------------------
--
-- Estrutura da tabela CLIENTE
--
CREATE TABLE CLIENTE (
    CODIGO INT         NOT NULL,
    NOME   VARCHAR(45) NOT NULL,
    CIDADE VARCHAR(50) NOT NULL,
    UF     CHAR(2)     NOT NULL
) ENGINE=InnoDB DEFAULT CHARSET=latin1;

ALTER TABLE CLIENTE ADD PRIMARY KEY (CODIGO);

-- --------------------------------------------------------
--
-- Estrutura da tabela PRODUTO
--
CREATE TABLE PRODUTO (
    CODIGO    INT            NOT NULL,
    DESCRICAO VARCHAR(50)    NOT NULL,
    PRVDA     DECIMAL(38, 6) NOT NULL
) ENGINE=InnoDB DEFAULT CHARSET=latin1;

ALTER TABLE PRODUTO ADD PRIMARY KEY (CODIGO);

-- --------------------------------------------------------
--
-- Estrutura da tabela CABECALHO DO PEDIDO
--
CREATE TABLE PEDIDOCAB (
    NUMERO  INT            NOT NULL,
    DTEMISS DATE           NOT NULL,
    CLIENTE INT            NOT NULL,
    VLRTOT  DECIMAL(38, 6) NOT NULL
) ENGINE=InnoDB DEFAULT CHARSET=latin1;

ALTER TABLE PEDIDOCAB ADD PRIMARY KEY (NUMERO);
ALTER TABLE PEDIDOCAB MODIFY NUMERO INT NOT NULL AUTO_INCREMENT;
ALTER TABLE PEDIDOCAB ADD CONSTRAINT FK_PEDIDOCAB_CLIENTE FOREIGN KEY (CLIENTE) REFERENCES CLIENTE (CODIGO) ON DELETE NO ACTION ON UPDATE NO ACTION;

-- --------------------------------------------------------
--
-- Estrutura da tabela DETALHE DO PEDIDO
--
CREATE TABLE PEDIDODET (
    ORDEM   INT            NOT NULL,
    PEDIDO  INT            NOT NULL,
    PRODUTO INT            NOT NULL,
    QTD     DECIMAL(38, 6) NOT NULL,
    VLRUNIT DECIMAL(38, 6) NOT NULL,
    VLRTOT  DECIMAL(38, 6) NOT NULL
) ENGINE=InnoDB DEFAULT CHARSET=latin1;

ALTER TABLE PEDIDODET ADD PRIMARY KEY (ORDEM);
ALTER TABLE PEDIDODET MODIFY ORDEM INT NOT NULL AUTO_INCREMENT;
ALTER TABLE PEDIDODET ADD CONSTRAINT FK_PEDIDODET_PEDIDOCAB FOREIGN KEY (PEDIDO)  REFERENCES PEDIDOCAB (NUMERO) ON DELETE NO ACTION ON UPDATE NO ACTION;
ALTER TABLE PEDIDODET ADD CONSTRAINT FK_PEDIDODET_PRODUTO   FOREIGN KEY (PRODUTO) REFERENCES PRODUTO   (CODIGO) ON DELETE NO ACTION ON UPDATE NO ACTION;

-- --------------------------------------------------------
--
-- Dados de testes para a tabela CLIENTE
--
INSERT INTO CLIENTE (CODIGO, NOME, CIDADE, UF) VALUES
(1, 'AFONSO PENA', 'OURO PRETO', 'MG'),
(2, 'ALBERTO SANTOS DUMONT', 'PALMIRA', 'MG'),
(3, 'ALFREDO BALTHAZAR DA SILVEIRA', 'RIO DE JANEIRO', 'RJ'),
(4, 'CANDIDO MENDES', 'RIO DE JANEIRO', 'RJ'),
(5, 'CARLOS GOMES', 'CAMPINAS', 'SP'),
(6, 'CESAR LATTES', 'CURITIBA', 'PR'),
(7, 'CLAUDIO MANUEL DA COSTA', 'MARIANA', 'MG'),
(8, 'DOM PEDRO I', 'RIO DE JANEIRO', 'RJ'),
(9, 'EDER JOFRE', 'BELEM', 'PA'),
(10, 'EPITACIO PESSOA', 'UMBUZEIRO', 'PB'),
(11, 'FERNANDO HENRIQUE CARDOSO', 'RIO DE JANEIRO', 'RJ'),
(12, 'GETULIO VARGAS', 'SAO BORJA', 'RS'),
(13, 'HELDER BARBALHO', 'ANANINDEUA', 'PA'),
(14, 'HUMBERTO DE CAMPOS', 'ALCANTARA', 'MA'),
(15, 'JOAO RIBEIRO', 'RIO DE JANEIRO', 'RJ'),
(16, 'JOAQUIM JOSE DA SILVA XAVIER', 'SAO JOAO DEL REI', 'MG'),
(17, 'JOAQUIM NABUCO', 'RECIFE', 'PE'),
(18, 'JORGE AMADO', 'ITABUNA', 'BA'),
(19, 'JOSE BONIFACIO DE ANDRADA E SILVA', 'SANTOS', 'SP'),
(20, 'JUSCELINO KUBITSCHEK', 'BRASILIA', 'DF'),
(21, 'LEONARDO BOFF', 'CONCORDIA', 'SC'),
(22, 'MACHADO DE ASSIS', 'RIO DE JANEIRO', 'RJ'),
(23, 'MARIO DE ANDRADE', 'SAO PAULO', 'SP'),
(24, 'OSWALDO CRUZ', 'SAO LUIZ DO PARAITINGA', 'SP'),
(25, 'RUI BARBOSA', 'SALVADOR', 'BA');

--
-- Dados de testes para a tabela PRODUTO
--
INSERT INTO PRODUTO (CODIGO, DESCRICAO, PRVDA) VALUES
(1, 'ACUCAR 1KG', 4.00),
(2, 'ALHO 200G', 4.00),
(3, 'AGUA MINERAL 1.5L', 2.00),
(4, 'ARROZ 5KG', 20.00),
(5, 'BATATA 1KG', 4.50),
(6, 'BISCOITO RECHEADO 400G', 6.00),
(7, 'CAFE TORRADO 500G', 15.00),
(8, 'CARNE MOIDA 1KG', 25.00),
(9, 'CEBOLA 1KG', 5.00),
(10, 'CHOCOLATE 100G', 5.00),
(11, 'DESINFETANTE 500ML', 6.00),
(12, 'FARINHA DE TRIGO 1KG', 5.00),
(13, 'FEIJAO PRETO 1KG', 8.50),
(14, 'FRANGO RESFRIADO 1KG', 10.00),
(15, 'IOGURTE 170G', 2.50),
(16, 'LEITE EM PO 400G', 12.00),
(17, 'MANTEIGA 200G', 8.00),
(18, 'MACARAO 500G', 3.50),
(19, 'MOLHO DE TOMATE 340G', 3.00),
(20, 'MIOJO 85G', 2.00),
(21, 'OLEO DE SOJA 900ML', 7.00),
(22, 'PAO DE FORMA 400G', 7.00),
(23, 'PRESUNTO 300G', 15.00),
(24, 'QUEIJO MUSSARELA 400G', 20.00),
(25, 'REFRIGERANTE 2L', 8.00),
(26, 'SABAO EM PO 1KG', 10.00),
(27, 'SAL 1KG', 2.00),
(28, 'SORVETE 2L', 25.00),
(29, 'SUCO DE FRUTA 1L', 5.00),
(30, 'TOMATE 1KG', 6.00);

COMMIT;